{
  "curs": {
    "nom": "SQL",
    "descripcio": "Aprèn a dominar les tècniques d'optimització de consultes i millors pràctiques en SQL per a una gestió eficient de les dades.",
    "color_fons": "#F4F8F4"
  },
  "capitol": {
    "titol": "Optimització de consultes i millors pràctiques",
    "numero": 10,
    "dificultat": "Avançat",
    "preu": 0.0
  },
  "exercicis": [
    {
      "numero": 1,
      "titol": "Creació d'un índex bàsic",
      "tipus": "codi",
      "descripcio": "Els índexs són estructures de dades que milloren el rendiment de les consultes. Per crear un índex bàsic, podem utilitzar la clàusula CREATE INDEX. Aquesta clàusula permet especificar la taula i la columna sobre la qual es creará l'índex.",
      "enunciat": "Crea un índex sobre la columna 'id_client' de la taula 'clients' per millorar les consultes de selecció.",
      "solucio": "CREATE INDEX idx_id_client ON clients (id_client);",
      "solucio_codi_1": "CREATE INDEX idx_id_client ON clients (id_client);",
      "solucio_codi_2": null,
      "codi_a_completar": "CREATE INDEX <placeholder> ON clients (id_client);",
      "temps_estimat_minuts": 5,
      "respostes_test": [],
      "pista_1": "Utilitza la clàusula CREATE INDEX per crear l'índex.",
      "pista_2": "Especifica la taula i la columna sobre la qual es creará l'índex.",
      "imatge_1": null,
      "descripcio_imatge_1": null,
      "imatge_2": null,
      "descripcio_imatge_2": null
    },
    {
      "numero": 2,
      "titol": "Evitar consultes lentes: bones pràctiques",
      "tipus": "test",
      "descripcio": "Les consultes lentes poden ser causades per diverses raons, com la falta d'índexs o la utilització de funcions no òptimes. Per evitar-les, és important seguir bones pràctiques de disseny i optimització de consultes.",
      "enunciat": "Quina de les següents opcions és una bona pràctica per evitar consultes lentes?",
      "solucio": "Utilitzar índexs sobre les columnes utilitzades en les condicions de cerca",
      "solucio_codi_1": null,
      "solucio_codi_2": null,
      "codi_a_completar": null,
      "temps_estimat_minuts": 5,
      "respostes_test": [
        "Utilitzar índexs sobre les columnes utilitzades en les condicions de cerca",
        "No utilitzar mai índexs perquè poden ser lents",
        "Utilitzar sempre funcions de càlcul en les consultes",
        "No seguir cap pràctica de disseny de bases de dades"
      ],
      "pista_1": "Els índexs milloren el rendiment de les consultes.",
      "pista_2": "Les funcions de càlcul poden ser lentes.",
      "imatge_1": null,
      "descripcio_imatge_1": null,
      "imatge_2": null,
      "descripcio_imatge_2": null
    },
    {
      "numero": 3,
      "titol": "Evitar N+1 Queries",
      "tipus": "codi",
      "descripcio": "Les consultes N+1 són un problema comú en les aplicacions que accedeixen a bases de dades. Per evitar-les, podem utilitzar tècniques com la càrrega eager o la càrrega lazy.",
      "enunciat": "Suposa que tens una taula 'clients' i una taula 'comandes'. Crea una consulta que recuperi tots els clients amb les seves comandes associades sense utilitzar consultes N+1.",
      "solucio": "SELECT * FROM clients JOIN comandes ON clients.id_client = comandes.id_client;",
      "solucio_codi_1": "SELECT * FROM clients JOIN comandes ON clients.id_client = comandes.id_client;",
      "solucio_codi_2": null,
      "codi_a_completar": "SELECT * FROM clients <placeholder> comandes ON clients.id_client = comandes.id_client;",
      "temps_estimat_minuts": 10,
      "respostes_test": [],
      "pista_1": "Utilitza una clàusula JOIN per unir les dues taules.",
      "pista_2": "Especifica la condició de unió entre les dues taules.",
      "imatge_1": null,
      "descripcio_imatge_1": null,
      "imatge_2": null,
      "descripcio_imatge_2": null
    },
    {
      "numero": 4,
      "titol": "Lectura i interpretació de plans d'execució",
      "tipus": "codi",
      "descripcio": "Els plans d'execució són representacions de com una base de dades executarà una consulta. Per interpretar-los, és important entendre les diferents operacions que es realitzen i com afecten el rendiment de la consulta.",
      "enunciat": "Suposa que tens una consulta SQL i vols analitzar el seu plan d'execució. Crea una consulta que recuperi el plan d'execució d'una consulta donada.",
      "solucio": "EXPLAIN SELECT * FROM clients WHERE id_client = 1;",
      "solucio_codi_1": "EXPLAIN SELECT * FROM clients WHERE id_client = 1;",
      "solucio_codi_2": null,
      "codi_a_completar": "EXPLAIN <placeholder> FROM clients WHERE id_client = 1;",
      "temps_estimat_minuts": 10,
      "respostes_test": [],
      "pista_1": "Utilitza la clàusula EXPLAIN per obtenir el plan d'execució.",
      "pista_2": "Especifica la consulta que es vol analitzar.",
      "imatge_1": null,
      "descripcio_imatge_1": null,
      "imatge_2": null,
      "descripcio_imatge_2": null
    },
    {
      "numero": 5,
      "titol": "Optimització d'una consulta complexa",
      "tipus": "codi",
      "descripcio": "Les consultes complexes poden ser optimitzades mitjançant diverses tècniques, com la reordenació de les condicions de cerca o la utilització d'índexs composts.",
      "enunciat": "Suposa que tens una consulta SQL complexa que involucra diverses taules i condicions de cerca. Crea una versió optimitzada d'aquesta consulta.",
      "solucio": "SELECT * FROM clients JOIN comandes ON clients.id_client = comandes.id_client WHERE clients.id_client = 1 AND comandes.estat = 'pagat';",
      "solucio_codi_1": "SELECT * FROM clients JOIN comandes ON clients.id_client = comandes.id_client WHERE clients.id_client = 1 AND comandes.estat = 'pagat';",
      "solucio_codi_2": null,
      "codi_a_completar": "SELECT * FROM clients <placeholder> comandes ON clients.id_client = comandes.id_client WHERE clients.id_client = 1 AND comandes.estat = 'pagat';",
      "temps_estimat_minuts": 15,
      "respostes_test": [],
      "pista_1": "Utilitza una clàusula JOIN per unir les dues taules.",
      "pista_2": "Especifica les condicions de cerca de manera eficient.",
      "imatge_1": null,
      "descripcio_imatge_1": null,
      "imatge_2": null,
      "descripcio_imatge_2": null
    }
  ]
}